<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> NoSQL 2 - Basic Concepts · Zhipeng Jiang</title><meta name="description" content="NoSQL 2 - Basic Concepts - Zhipeng Jiang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jesusjzp" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/zp-j" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">NoSQL 2 - Basic Concepts</h1><div class="post-time">Oct 24, 2013</div><div class="post-content"><p>Extracted from <strong>Christof Strauch, <a href="http://www.christof-strauch.de/nosqldbs.pdf" target="_blank" rel="external">NoSQL Databases</a>, P30-32,  2010</strong>.</p>
<h1 id="Consistency"><a href="#Consistency" class="headerlink" title="Consistency"></a>Consistency</h1><h2 id="The-CAP-Theorem"><a href="#The-CAP-Theorem" class="headerlink" title="The CAP-Theorem"></a>The CAP-Theorem</h2><ul>
<li>Consistency</li>
<li>Availability</li>
<li>Partition Tolerance</li>
</ul>
<h2 id="ACID-vs-BASE"><a href="#ACID-vs-BASE" class="headerlink" title="ACID vs. BASE"></a>ACID vs. BASE</h2><p><strong>ACID</strong></p>
<ul>
<li>Atomicity</li>
<li>Consistency</li>
<li>Isolation</li>
<li>Durability</li>
</ul>
<p><strong>BASE</strong></p>
<ul>
<li>Basically available</li>
<li>Soft-state</li>
<li>Eventual consistency</li>
</ul>
<p><img src="https://dl-web.dropbox.com/get/Blog/Selection_008.png?w=AACG3vhypLAVq0XNeENXvK5lKt6-xsg96ByOVm455bs3jQ" alt="pic"></p>
<p><strong>Ippolito summarizes the BASE properties in the following way: an application works basically all the time (basically available), does not have to be consistent all the time (soft-state) but will be in some known-state state eventually (eventual consistency).</strong></p>
<h2 id="Versioning-of-Datasets-in-Distributed-Scenarios"><a href="#Versioning-of-Datasets-in-Distributed-Scenarios" class="headerlink" title="Versioning of Datasets in Distributed Scenarios"></a>Versioning of Datasets in Distributed Scenarios</h2><p>If datasets are distributed among nodes, they can be read and altered on each node and no strict consistency is ensured by distributed transaction protocols, questions arise on how “concurrent” modifications and versions are processed and to which values a dataset will eventually converge to. There are several options to handle these issues:</p>
<ul>
<li>Timestamps</li>
<li>Optimistic Locking</li>
<li>Vector Clocks</li>
<li>Multiversion Storage</li>
</ul>
<p><strong>Verctor Clocks</strong></p>
<p>A vector clock is defined as a tuple V [0], V [1], …, V [n] of clock values from each node (cf. [Lip09, slide 18]). In a distributed scenario node i maintains such a tuple of clock values, which represent the state of itself and the other (replica) nodes’ state as it is aware about at a given time (Vi [0] for the clock value of the first node, Vi [1] for the clock value of the second node, . . . Vi [i] for itself, . . . Vi [n] for the clock value of the last node). Clock values may be real timestamps derived from a node’s local clock, version/revision numbers or some other ordinal values.</p>
<p><img src="https://dl-web.dropbox.com/get/Blog/Selection_002.png?w=AAAbyWJg2je8STxoa8MxJ8U_VPUgNRXBKlOJTs-Dg_dxfg" alt="pic"></p>
<p>The advantages of vector clocks are:</p>
<ul>
<li>No dependence on synchronized clocks</li>
<li>No total ordering of revision numbers required for casual reasoning</li>
<li>No need to store and maintain multiple revisions of a piece of data on all nodes</li>
</ul>
</div></article></div></section><footer><div class="paginator"><a href="/2013/11/03/法国西班牙葡萄牙一周游/" class="prev">PRVE</a><a href="/2013/10/18/One-pic-to-distinguish-different-open-source-licenses/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'ZhipengJiang';
var disqus_identifier = '2013/10/24/NoSQL-2-Basic-Concepts/';
var disqus_title = 'NoSQL 2 - Basic Concepts';
var disqus_url = 'http://yoursite.com/2013/10/24/NoSQL-2-Basic-Concepts/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ZhipengJiang.disqus.com/count.js" async></script><div class="copyright"><p>© 2013 - 2016 <a href="http://yoursite.com">Zhipeng Jiang</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-47515905-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>