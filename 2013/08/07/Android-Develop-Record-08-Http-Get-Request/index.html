<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Android Develop Record(08) - Http Get Request · Zhipeng Jiang</title><meta name="description" content="Android Develop Record(08) - Http Get Request - Zhipeng Jiang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jesusjzp" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/zp-j" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Android Develop Record(08) - Http Get Request</h1><div class="post-time">Aug 7, 2013</div><div class="post-content"><h3 id="Simple-get-request"><a href="#Simple-get-request" class="headerlink" title="Simple get request"></a>Simple get request</h3><div class="highlight"><br><br>    <span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">zhipeng</span><span class="o">.</span><span class="na">testnet</span><span class="o">;</span><br><br>    <span class="kn">import</span> <span class="nn">java.io.BufferedReader</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">java.io.InputStreamReader</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">java.net.HttpURLConnection</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">java.net.MalformedURLException</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">java.net.URI</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">java.net.URL</span><span class="o">;</span><br><br>    <span class="kn">import</span> <span class="nn">org.apache.http.HttpResponse</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">org.apache.http.client.HttpClient</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">org.apache.http.client.methods.HttpGet</span><span class="o">;</span><br>    <span class="kn">import</span> <span class="nn">org.apache.http.impl.client.DefaultHttpClient</span><span class="o">;</span><br><br>    <span class="kn">import</span> <span class="nn">android.util.Log</span><span class="o">;</span><br><br>    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">HttpGetMethod</span> <span class="o">{</span><br>        <span class="kd">public</span> <span class="n">String</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span><br>            <span class="n">String</span> <span class="n">res</span> <span class="o">=</span> <span class="s">&quot;&quot;</span><span class="o">;</span><br>            <span class="n">String</span> <span class="n">httpUrl</span> <span class="o">=</span> <span class="s">&quot;<a href="http://zp-j.github.io/&amp;quot" target="_blank" rel="external">http://zp-j.github.io/&amp;quot</a>;</span><span class="o">;</span><br>            <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="s">&quot;httpUrl:&quot;</span><span class="o">,</span> <span class="n">httpUrl</span><span class="o">);</span><br>            <span class="n">URL</span> <span class="n">url</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span><br><br>            <span class="k">try</span> <span class="o">{</span><br>                <span class="n">url</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">URL</span><span class="o">(</span><span class="n">httpUrl</span><span class="o">);</span><br>            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">MalformedURLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span><br>                <span class="n">Log</span><span class="o">.</span><span class="na">e</span><span class="o">(</span><span class="s">&quot;GetData.java&quot;</span><span class="o">,</span> <span class="s">&quot;MalformedURLException&quot;</span><span class="o">);</span><br>            <span class="o">}</span><br><br>            <span class="k">if</span><span class="o">(</span><span class="n">url</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span><br>                <span class="k">try</span> <span class="o">{</span><br>                    <span class="n">HttpURLConnection</span> <span class="n">urlConn</span> <span class="o">=</span> <span class="o">(</span><span class="n">HttpURLConnection</span><span class="o">)</span> <span class="n">url</span><span class="o">.</span><span class="na">openConnection</span><span class="o">();</span><br>                    <span class="n">urlConn</span><span class="o">.</span><span class="na">connect</span><span class="o">();</span><br>                    <span class="n">BufferedReader</span> <span class="n">reader</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="nf">InputStreamReader</span><span class="o">(</span><span class="n">urlConn</span><span class="o">.</span><span class="na">getInputStream</span><span class="o">(),</span> <span class="s">&quot;8859-1&quot;</span><span class="o">));</span><br>                    <span class="n">String</span> <span class="n">inputLine</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span><br>                    <span class="k">while</span> <span class="o">(((</span><span class="n">inputLine</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLine</span><span class="o">())</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">))</span> <span class="o">{</span><br>                        <span class="n">res</span> <span class="o">+=</span> <span class="n">inputLine</span> <span class="o">+</span> <span class="s">&quot;\n&quot;</span><span class="o">;</span><br>                    <span class="o">}</span><br>                    <span class="n">reader</span><span class="o">.</span><span class="na">close</span><span class="o">();</span><br>                    <span class="n">urlConn</span><span class="o">.</span><span class="na">disconnect</span><span class="o">();</span><br>                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span>    <span class="o">{</span><br>                    <span class="k">return</span> <span class="s">&quot;&quot;</span><span class="o">;</span><br>                <span class="o">}</span><br>            <span class="o">}</span><br>            <span class="n">Log</span><span class="o">.</span><span class="na">v</span><span class="o">(</span><span class="s">&quot;res:&quot;</span><span class="o">,</span> <span class="n">res</span><span class="o">);</span><br>            <span class="k">return</span> <span class="n">res</span><span class="o">;</span><br>        <span class="o">}</span><br>    <span class="o">}</span><br></div>

<p><strong>Attention</strong> : HttpGet should be place in another thread instead of main thread !!!!!!!!!!! Because in Android 4.0+, this operation is forbidden.</p>
<p><strong>PS</strong> This girl reminds me of someone</p>
<p><img src="http://hd.wallpaperswide.com/thumbs/pretty_girl-t2.jpg" alt="Forfun"></p>
</div></article></div></section><footer><div class="paginator"><a href="/2013/08/07/Local-Jekyll-Environment-Installation/" class="prev">PRVE</a><a href="/2013/08/06/Android-Develop-Record-07-Image-Zoom-and-Drag/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'ZhipengJiang';
var disqus_identifier = '2013/08/07/Android-Develop-Record-08-Http-Get-Request/';
var disqus_title = 'Android Develop Record(08) - Http Get Request';
var disqus_url = 'http://yoursite.com/2013/08/07/Android-Develop-Record-08-Http-Get-Request/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ZhipengJiang.disqus.com/count.js" async></script><div class="copyright"><p>© 2013 - 2016 <a href="http://yoursite.com">Zhipeng Jiang</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-47515905-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>