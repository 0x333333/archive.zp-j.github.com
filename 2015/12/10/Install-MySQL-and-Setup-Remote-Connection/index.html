<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Install MySQL and Setup Remote Connection · Zhipeng Jiang</title><meta name="description" content="Install MySQL and Setup Remote Connection - Zhipeng Jiang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jesusjzp" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/zp-j" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Install MySQL and Setup Remote Connection</h1><div class="post-time">Dec 10, 2015</div><div class="post-content"><h2 id="Install-MySQl-in-Ubuntu-14-04"><a href="#Install-MySQl-in-Ubuntu-14-04" class="headerlink" title="Install MySQl in Ubuntu 14.04"></a>Install MySQl in Ubuntu 14.04</h2><pre><code>apt-get install mysql-server
`&lt;/pre&gt;

During the installation, your server will ask you to select and confirm a password for the MySQL “root” user. This is an administrative account in MySQL that has increased privileges. Think of it as being similar to the root account for the server itself (the one you are configuring now is a MySQL-specific account however).

When the installation is complete, we need to run some additional commands to get our MySQL environment set up securely.

First, we need to tell MySQL to create its database directory structure where it will store its information. You can do this by typing:

&lt;pre&gt;`sudo mysql_install_db
`&lt;/pre&gt;

Afterwards, we want to run a simple security script that will remove some dangerous defaults and lock down access to our database system a little bit. Start the interactive script by running:

&lt;pre&gt;`sudo mysql_secure_installation
`&lt;/pre&gt;

You will be asked to enter the password you set for the MySQL root account. Next, it will ask you if you want to change that password. If you are happy with your current password, type “n” for “no” at the prompt.

For the rest of the questions, you should simply hit the “ENTER” key through each prompt to accept the default values. This will remove some sample users and databases, disable remote root logins, and load these new rules so that MySQL immediately respects the changes we have made.

At this point, your database system is now set up and we can move on.

## Check UFW and Netstat

Check if your mysql server is listening on a socket with netstat:

&lt;pre&gt;`netstat -tulpen
`&lt;/pre&gt;

and search for port number 3306\. If not or if only on localhost, check `/etc/mysql/my.cnf` and search the bind-address line and change it to:

&lt;pre&gt;`bind-address = 0.0.0.0
`&lt;/pre&gt;

Check your UFW configuration

&lt;pre&gt;`ufw status
`&lt;/pre&gt;

If your don’t have the port 3306, for example like this:

&lt;pre&gt;`Status: active

To                         Action      From
--                         ------      ----
22                         ALLOW       Anywhere
80/tcp                     ALLOW       Anywhere
3000/tcp                   ALLOW       Anywhere
22 (v6)                    ALLOW       Anywhere (v6)
80/tcp (v6)                ALLOW       Anywhere (v6)
3000/tcp (v6)              ALLOW       Anywhere (v6)
`&lt;/pre&gt;

Add 3306 to the list by typing

&lt;pre&gt;`ufw allow 3306/tcp
`&lt;/pre&gt;

Now check ufw again, you will find 3306 in that list.

## Grant Remote Access privileges

&lt;pre&gt;`GRANT ALL PRIVILEGES ON *.* TO &apos;myuser&apos;@&apos;%&apos;IDENTIFIED BY &apos;mypassword&apos; WITH GRANT OPTION;
FLUSH PRIVILEGES;
`&lt;/pre&gt;

Then restart mysql

&lt;pre&gt;`/etc/init.d/mysql restart
`&lt;/pre&gt;

## Test it

Now test your remote connection from another client

&lt;pre&gt;`mysql -h [ip] -u [username] -p
</code></pre></div></article></div></section><footer><div class="paginator"><a href="/2016/01/07/First-day-Microsoft/" class="prev">PRVE</a><a href="/2015/12/06/Apache-Kafka-Log-Aggregation/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'ZhipengJiang';
var disqus_identifier = '2015/12/10/Install-MySQL-and-Setup-Remote-Connection/';
var disqus_title = 'Install MySQL and Setup Remote Connection';
var disqus_url = 'http://yoursite.com/2015/12/10/Install-MySQL-and-Setup-Remote-Connection/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ZhipengJiang.disqus.com/count.js" async></script><div class="copyright"><p>© 2013 - 2016 <a href="http://yoursite.com">Zhipeng Jiang</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-47515905-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>