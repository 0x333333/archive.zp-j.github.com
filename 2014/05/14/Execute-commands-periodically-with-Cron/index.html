<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Execute commands periodically with Cron · Zhipeng Jiang</title><meta name="description" content="Execute commands periodically with Cron - Zhipeng Jiang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/jesusjzp" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/zp-j" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Execute commands periodically with Cron</h1><div class="post-time">May 14, 2014</div><div class="post-content"><p><a href="http://en.wikipedia.org/wiki/Cron" target="_blank" rel="external">Cron</a> is a time-based scheduling service in Linux / Unix-like computer operating systems. Cron job are used to schedule commands to be executed periodically.</p>
<p>You can setup commands or scripts, which will repeatedly run at a set time. Cron is one of the most useful tool in Linux or UNIX like operating systems.</p>
<h2 id="crontab-command"><a href="#crontab-command" class="headerlink" title="crontab command"></a>crontab command</h2><p>crontab is the command used to install, deinstall or list the tables (cron configuration file) used to drive the cron(8) daemon in Vixie Cron. Each user can have their own crontab file, and though these are files in /var/spool/cron/crontabs, they are not intended to be edited directly. You need to use crontab command for editing or setting up your own cron jobs.</p>
<h2 id="How-Do-I-install-or-create-or-edit-my-own-cron-jobs"><a href="#How-Do-I-install-or-create-or-edit-my-own-cron-jobs" class="headerlink" title="How Do I install or create or edit my own cron jobs?"></a>How Do I install or create or edit my own cron jobs?</h2><p>To edit your crontab file, type the following command at the UNIX / Linux shell prompt:</p>
<pre><code>$ crontab -e
`&lt;/pre&gt;

## Syntax of crontab (field description)

The syntax is:

&lt;pre&gt;`1 2 3 4 5 /path/to/command arg1 arg2
`&lt;/pre&gt;

OR

&lt;pre&gt;`1 2 3 4 5 /root/backup.sh
`&lt;/pre&gt;

Where,
</code></pre><ul>
<li>1: Minute (0-59)</li>
<li>2: Hours (0-23)</li>
<li>3: Day (0-31)</li>
<li>4: Month (0-12 [12 == December])</li>
<li>5: Day of the week(0-7 [7 or 0 == sunday])</li>
<li><p>/path/to/command - Script or command name to schedule</p>
<p>Easy to remember format:</p>
<p>`</p>
<ul>
<li><ul>
<li><ul>
<li><ul>
<li><ul>
<li>command to be executed<br>| | | | |<br>| | | | —– Day of week (0 - 7) (Sunday=0 or 7)<br>| | | ——- Month (1 - 12)<br>| | ——— Day of month (1 - 31)<br>| ———– Hour (0 - 23)<br>————- Minute (0 - 59)<br>`</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Your cron job looks as follows for system jobs:</p>
<pre>`1 2 3 4 5 USERNAME /path/to/command arg1 arg2
`</pre>

<p>OR</p>
<pre>`1 2 3 4 5 USERNAME /path/to/script.sh
`</pre>

<h2 id="More-examples"><a href="#More-examples" class="headerlink" title="More examples"></a>More examples</h2><p>To run /path/to/command five minutes after midnight, every day, enter:</p>
<pre>`5 0 * * * /path/to/command
`</pre>

<p>Run /path/to/script.sh at 2:15pm on the first of every month, enter:</p>
<pre>`15 14 1 * * /path/to/script.sh
`</pre>

<p>Run /scripts/phpscript.php at 10 pm on weekdays, enter:</p>
<pre>`0 22 * * 1-5 /scripts/phpscript.php
`</pre>

<p>Run /root/scripts/perl/perlscript.pl at 23 minutes after midnight, 2am, 4am …, everyday, enter:</p>
<pre>`23 0-23/2 * * * /root/scripts/perl/perlscript.pl
`</pre>

<p>Run /path/to/unixcommand at 5 after 4 every Sunday, enter:</p>
<pre>`5 4 * * sun /path/to/unixcommand
`</pre>

<h2 id="Task-List-all-your-cron-jobs"><a href="#Task-List-all-your-cron-jobs" class="headerlink" title="Task: List all your cron jobs"></a>Task: List all your cron jobs</h2><p>Type the following command:</p>
<pre>`# crontab -l
# crontab -u username -l
`</pre>

<p>To remove or erase all crontab jobs use the following command:</p>
<pre>`# Delete the current cron jobs #
crontab -r

## Delete job for specific user. Must be run as root user ##
crontab -r -u username
`</pre>

<h2 id="Use-special-string-to-save-time"><a href="#Use-special-string-to-save-time" class="headerlink" title="Use special string to save time"></a>Use special string to save time</h2><p>Instead of the first five fields, you can use any one of eight special strings. It will not just save your time but it will improve readability.</p>
<table><br>  <thead><br>    <tr><br>      <th style="text-align: left">Special string</th><br>      <th style="text-align: left">Meaning</th><br>    </tr><br>  </thead><br>  <tbody><br>    <tr><br>      <td style="text-align: left">@reboot</td><br>      <td style="text-align: left">Run once, at startup.</td><br>    </tr><br>    <tr><br>      <td style="text-align: left">@yearly</td><br>      <td style="text-align: left">Run once a year, “0 0 1 1 <em>”.</em></td><br>    </tr><br>    <tr><br>      <td style="text-align: left">@annually</td><br>      <td style="text-align: left">(same as @yearly)</td><br>    </tr><br>    <tr><br>      <td style="text-align: left">@monthly</td><br>      <td style="text-align: left">Run once a month, “0 0 1  <em>”.</em></td><br>    </tr><br>    <tr><br>      <td style="text-align: left">@weekly</td><br>      <td style="text-align: left">Run once a week, “0 0  <em> 0”.</em></td><br>    </tr><br>    <tr><br>      <td style="text-align: left">@daily</td><br>      <td style="text-align: left">Run once a day, “0 0  <em> </em>”.</td><br>    </tr><br>    <tr><br>      <td style="text-align: left">@midnight</td><br>      <td style="text-align: left">(same as @daily)</td><br>    </tr><br>    <tr><br>      <td style="text-align: left">@hourly</td><br>      <td style="text-align: left">Run once an hour, “0 <em> </em> <em> </em>”.</td><br>    </tr><br>  </tbody><br></table>

<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h4><p>Run ntpdate command every hour:</p>
<p><pre><code>@hourly /path/to/ntpdate</code></pre></p>
<p>Make a backup everyday:</p>
<p><pre>`@daily /path/to/backup/script.sh</pre></p>
</li>
</ul>
<h2 id="SEE-ALSO"><a href="#SEE-ALSO" class="headerlink" title="SEE ALSO"></a>SEE ALSO</h2><p>See man pages for more information <a href="http://www.manpager.com/linux/man8/cron.8.html" target="_blank" rel="external">cron(8)</a>, <a href="http://www.manpager.com/linux/man1/crontab.1.html" target="_blank" rel="external">crontab(1)</a>, <a href="http://www.manpager.com/linux/man5/crontab.5.html" target="_blank" rel="external">crontab(5)</a>, <a href="http://www.manpager.com/linux/man8/run-parts.8.html" target="_blank" rel="external">run-parts(8)</a></p>
</div></article></div></section><footer><div class="paginator"><a href="/2014/05/15/Secure-Copy-scp-syntax-example/" class="prev">PRVE</a><a href="/2014/05/10/RGB-to-Hex-and-Hex-to-RGB/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'ZhipengJiang';
var disqus_identifier = '2014/05/14/Execute-commands-periodically-with-Cron/';
var disqus_title = 'Execute commands periodically with Cron';
var disqus_url = 'http://yoursite.com/2014/05/14/Execute-commands-periodically-with-Cron/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//ZhipengJiang.disqus.com/count.js" async></script><div class="copyright"><p>© 2013 - 2016 <a href="http://yoursite.com">Zhipeng Jiang</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-47515905-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>